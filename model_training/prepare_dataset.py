# prepare_dataset.py

import json
import pandas as pd
from datasets import Dataset


def create_training_data():
    """Создает обучающий датасет с 200 примерами"""

    training_examples = [
        # История (20 примеров)
        {
            "context": "Python — это высокоуровневый язык программирования, созданный Гвидо ван Россумом в 1991 году.",
            "question": "Кто создал язык программирования Python?"
        },
        {
            "context": "Москва является столицей России и крупнейшим городом страны с населением более 12 миллионов человек.",
            "question": "Какой город является столицей России?"
        },
        {
            "context": "FastAPI - это современный веб-фреймворк для создания API с Python 3.7+, основанный на стандартных подсказках типов Python.",
            "question": "Что такое FastAPI?"
        },
        {
            "context": "Первая мировая война началась в 1914 году и закончилась в 1918 году, в ней участвовало более 30 стран.",
            "question": "Когда началась Первая мировая война?"
        },
        {
            "context": "Юрий Гагарин стал первым человеком в космосе 12 апреля 1961 года на корабле Восток-1.",
            "question": "Кто был первым человеком в космосе?"
        },
        {
            "context": "Александр Пушкин родился в Москве 6 июня 1799 года и считается величайшим русским поэтом.",
            "question": "Где родился Александр Пушкин?"
        },
        {
            "context": "Санкт-Петербург был основан Петром I в 1703 году на берегу Финского залива.",
            "question": "Кто основал Санкт-Петербург?"
        },
        {
            "context": "Бородинское сражение произошло 7 сентября 1812 года во время Отечественной войны с Наполеоном.",
            "question": "Когда произошло Бородинское сражение?"
        },
        {
            "context": "Октябрьская революция в России началась 25 октября 1917 года по старому стилю.",
            "question": "Когда началась Октябрьская революция?"
        },
        {
            "context": "СССР был образован 30 декабря 1922 года и просуществовал до декабря 1991 года.",
            "question": "Когда был образован СССР?"
        },
        {
            "context": "Берлинская стена была построена в 1961 году и разрушена в 1989 году.",
            "question": "Когда была разрушена Берлинская стена?"
        },
        {
            "context": "Колумб открыл Америку в 1492 году, отплыв из Испании.",
            "question": "Кто открыл Америку?"
        },
        {
            "context": "Египетские пирамиды были построены около 4500 лет назад как гробницы фараонов.",
            "question": "Для чего строили египетские пирамиды?"
        },
        {
            "context": "Ленин возглавил большевиков в революции 1917 года в России.",
            "question": "Кто возглавил большевиков?"
        },
        {
            "context": "Вторая мировая война закончилась в 1945 году победой антигитлеровской коалиции.",
            "question": "Когда закончилась Вторая мировая война?"
        },
        {
            "context": "Римская империя пала в 476 году нашей эры после нашествия варваров.",
            "question": "Когда пала Римская империя?"
        },
        {
            "context": "Монгольская империя была крупнейшей в истории и существовала в XIII-XIV веках.",
            "question": "Какая империя была крупнейшей в истории?"
        },
        {
            "context": "Французская революция началась в 1789 году и привела к падению монархии.",
            "question": "Когда началась Французская революция?"
        },
        {
            "context": "Холодная война между США и СССР длилась с 1947 по 1991 год.",
            "question": "Между какими странами была Холодная война?"
        },
        {
            "context": "Китайская стена строилась более 2000 лет для защиты от кочевников.",
            "question": "Для чего строили Китайскую стену?"
        },

        # Наука (30 примеров)
        {
            "context": "Дмитрий Менделеев открыл Периодический закон химических элементов в 1869 году.",
            "question": "Кто открыл Периодический закон?"
        },
        {
            "context": "Альберт Эйнштейн разработал теорию относительности в начале XX века.",
            "question": "Кто разработал теорию относительности?"
        },
        {
            "context": "Интернет появился в результате проекта ARPANET в 1969 году в США.",
            "question": "Когда появился интернет?"
        },
        {
            "context": "Первый искусственный спутник Земли был запущен Советским Союзом 4 октября 1957 года.",
            "question": "Когда был запущен первый спутник?"
        },
        {
            "context": "ДНК была открыта Джеймсом Уотсоном и Фрэнсисом Криком в 1953 году.",
            "question": "Кто открыл структуру ДНК?"
        },
        {
            "context": "Электричество было открыто и изучено многими учеными, но Бенджамин Франклин провел знаменитый эксперимент с воздушным змеем в 1752 году.",
            "question": "Кто провел эксперимент с воздушным змеем?"
        },
        {
            "context": "Александр Флеминг случайно открыл пенициллин в 1928 году, что стало революцией в медицине.",
            "question": "Кто открыл пенициллин?"
        },
        {
            "context": "Квантовая физика была разработана в начале XX века группой ученых, включая Макса Планка и Нильса Бора.",
            "question": "Когда была разработана квантовая физика?"
        },
        {
            "context": "Мария Кюри стала первой женщиной, получившей Нобелевскую премию, за исследования радиоактивности.",
            "question": "Кто была первой женщиной с Нобелевской премией?"
        },
        {
            "context": "Томас Эдисон изобрел электрическую лампочку в 1879 году.",
            "question": "Кто изобрел электрическую лампочку?"
        },
        {
            "context": "Исаак Ньютон открыл закон всемирного тяготения в XVII веке.",
            "question": "Кто открыл закон всемирного тяготения?"
        },
        {
            "context": "Вода кипит при температуре 100 градусов Цельсия при нормальном атмосферном давлении.",
            "question": "При какой температуре кипит вода?"
        },
        {
            "context": "Атом состоит из ядра с протонами и нейтронами, окруженного электронами.",
            "question": "Из чего состоит атом?"
        },
        {
            "context": "Скорость света составляет примерно 300 000 километров в секунду.",
            "question": "Какова скорость света?"
        },
        {
            "context": "Земля совершает полный оборот вокруг Солнца за 365 дней.",
            "question": "За сколько дней Земля обходит Солнце?"
        },
        {
            "context": "Галилео Галилей изобрел телескоп и открыл спутники Юпитера.",
            "question": "Кто изобрел телескоп?"
        },
        {
            "context": "Антибиотики борются с бактериальными инфекциями, но не действуют на вирусы.",
            "question": "Против чего действуют антибиотики?"
        },
        {
            "context": "Фотосинтез — это процесс, при котором растения производят кислород из углекислого газа.",
            "question": "Что такое фотосинтез?"
        },
        {
            "context": "Сердце человека перекачивает около 5 литров крови в минуту.",
            "question": "Сколько крови перекачивает сердце?"
        },
        {
            "context": "В человеческом теле 206 костей во взрослом возрасте.",
            "question": "Сколько костей в человеческом теле?"
        },
        {
            "context": "Черные дыры образуются при коллапсе массивных звезд.",
            "question": "Как образуются черные дыры?"
        },
        {
            "context": "Клетка является основной структурной единицей всех живых организмов.",
            "question": "Что является основной единицей жизни?"
        },
        {
            "context": "Луна является единственным естественным спутником Земли.",
            "question": "Какой естественный спутник есть у Земли?"
        },
        {
            "context": "Гены хранятся в молекулах ДНК и передают наследственную информацию.",
            "question": "Где хранятся гены?"
        },
        {
            "context": "Парниковый эффект вызывает глобальное потепление на Земле.",
            "question": "Что вызывает глобальное потепление?"
        },
        {
            "context": "Вакцины помогают иммунной системе распознавать и бороться с болезнями.",
            "question": "Для чего нужны вакцины?"
        },
        {
            "context": "Ультрафиолетовое излучение может повредить ДНК и вызвать рак кожи.",
            "question": "Чем опасно ультрафиолетовое излучение?"
        },
        {
            "context": "Нейроны передают электрические сигналы в нервной системе.",
            "question": "Что делают нейроны?"
        },
        {
            "context": "Витамин C помогает укрепить иммунитет и содержится в цитрусовых.",
            "question": "Где содержится витамин C?"
        },
        {
            "context": "Землетрясения возникают из-за движения тектонических плит.",
            "question": "Почему возникают землетрясения?"
        },

        # География (30 примеров)
        {
            "context": "Эверест - самая высокая гора в мире, её высота составляет 8848 метров над уровнем моря.",
            "question": "Какая самая высокая гора в мире?"
        },
        {
            "context": "Байкал - самое глубокое озеро на планете, его максимальная глубина достигает 1642 метров.",
            "question": "Какое самое глубокое озеро в мире?"
        },
        {
            "context": "Нил считается самой длинной рекой в мире, его длина составляет около 6650 километров.",
            "question": "Какая самая длинная река в мире?"
        },
        {
            "context": "Сахара - крупнейшая жаркая пустыня на Земле, расположенная в Африке.",
            "question": "Какая самая большая пустыня?"
        },
        {
            "context": "Тихий океан - самый большой океан, покрывающий треть поверхности Земли.",
            "question": "Какой самый большой океан?"
        },
        {
            "context": "Австралия - единственный континент, который также является одной страной.",
            "question": "Какой континент является одной страной?"
        },
        {
            "context": "Амазонка - самая полноводная река в мире, протекающая через Южную Америку.",
            "question": "Какая самая полноводная река?"
        },
        {
            "context": "Антарктида - самый холодный континент, где зафиксирована температура -89 градусов.",
            "question": "Какой самый холодный континент?"
        },
        {
            "context": "Волга - самая длинная река в Европе, ее длина составляет 3530 километров.",
            "question": "Какая самая длинная река в Европе?"
        },
        {
            "context": "Гималаи - самая высокая горная система в мире, где находятся 10 высочайших вершин.",
            "question": "Какая самая высокая горная система?"
        },
        {
            "context": "Средиземное море соединяет Европу, Африку и Азию.",
            "question": "Какое море соединяет три континента?"
        },
        {
            "context": "Исландия расположена на вулканически активной зоне и известна гейзерами.",
            "question": "Чем известна Исландия?"
        },
        {
            "context": "Токио - столица Японии и крупнейшая городская агломерация в мире.",
            "question": "Какая столица Японии?"
        },
        {
            "context": "Париж называют городом света и столицей Франции.",
            "question": "Как называют Париж?"
        },
        {
            "context": "Нью-Йорк расположен на восточном побережье США и является финансовым центром.",
            "question": "Где расположен Нью-Йорк?"
        },
        {
            "context": "Рим был столицей Римской империи и сейчас является столицей Италии.",
            "question": "Какая столица Италии?"
        },
        {
            "context": "Лондон - столица Великобритании и один из крупнейших финансовых центров мира.",
            "question": "Какая столица Великобритании?"
        },
        {
            "context": "Берлин - столица Германии, разделенная стеной до 1989 года.",
            "question": "Какая столица Германии?"
        },
        {
            "context": "Пекин - столица Китая с населением более 20 миллионов человек.",
            "question": "Какая столица Китая?"
        },
        {
            "context": "Каир - столица Египта, расположенная на берегу Нила.",
            "question": "Какая столица Египта?"
        },
        {
            "context": "Бразилия - крупнейшая страна Южной Америки по площади и населению.",
            "question": "Какая крупнейшая страна Южной Америки?"
        },
        {
            "context": "Канада - вторая по площади страна в мире после России.",
            "question": "Какая вторая по площади страна?"
        },
        {
            "context": "Индия - вторая по населению страна в мире после Китая.",
            "question": "Какая вторая по населению страна?"
        },
        {
            "context": "Мальдивы - островное государство в Индийском океане, известное курортами.",
            "question": "Где находятся Мальдивы?"
        },
        {
            "context": "Аляска - самый большой штат США, купленный у России в 1867 году.",
            "question": "У кого США купили Аляску?"
        },
        {
            "context": "Гренландия - крупнейший остров в мире, принадлежащий Дании.",
            "question": "Какой крупнейший остров в мире?"
        },
        {
            "context": "Мадагаскар - четвертый по величине остров в мире, расположенный у берегов Африки.",
            "question": "Где расположен Мадагаскар?"
        },
        {
            "context": "Андорра - маленькое княжество в Пиренеях между Францией и Испанией.",
            "question": "Где находится Андорра?"
        },
        {
            "context": "Монако - второе по величине карликовое государство в мире.",
            "question": "Какое второе по величине карликовое государство?"
        },
        {
            "context": "Ватикан - самое маленькое государство в мире, расположенное в Риме.",
            "question": "Какое самое маленькое государство?"
        },

        # Литература (30 примеров)
        {
            "context": "Лев Толстой написал роман 'Война и мир' в 1869 году.",
            "question": "Кто написал 'Войну и мир'?"
        },
        {
            "context": "Федор Достоевский создал роман 'Преступление и наказание' в 1866 году.",
            "question": "Кто автор 'Преступления и наказания'?"
        },
        {
            "context": "Антон Чехов написал пьесу 'Вишневый сад' в 1903 году.",
            "question": "Кто написал 'Вишневый сад'?"
        },
        {
            "context": "Михаил Булгаков создал роман 'Мастер и Маргарита' в 1930-х годах.",
            "question": "Кто автор 'Мастера и Маргариты'?"
        },
        {
            "context": "Николай Гоголь написал поэму 'Мертвые души' в 1842 году.",
            "question": "Кто написал 'Мертвые души'?"
        },
        {
            "context": "Иван Тургенев создал роман 'Отцы и дети' в 1862 году.",
            "question": "Кто автор романа 'Отцы и дети'?"
        },
        {
            "context": "Максим Горький написал пьесу 'На дне' в 1902 году.",
            "question": "Кто написал пьесу 'На дне'?"
        },
        {
            "context": "Александр Солженицын получил Нобелевскую премию за роман 'Архипелаг ГУЛАГ'.",
            "question": "За что Солженицын получил Нобелевскую премию?"
        },
        {
            "context": "Сергей Есенин - великий русский поэт начала XX века, известный лирическими стихами.",
            "question": "Кем был Сергей Есенин?"
        },
        {
            "context": "Владимир Маяковский - поэт-футурист, автор поэмы 'Облако в штанах'.",
            "question": "Кто написал 'Облако в штанах'?"
        },
        {
            "context": "Анна Ахматова написала поэму 'Реквием' о сталинских репрессиях.",
            "question": "О чем поэма 'Реквием'?"
        },
        {
            "context": "Борис Пастернак получил Нобелевскую премию за роман 'Доктор Живаго'.",
            "question": "За какой роман Пастернак получил премию?"
        },
        {
            "context": "Марина Цветаева - великая русская поэтесса Серебряного века.",
            "question": "К какому периоду относится Цветаева?"
        },
        {
            "context": "Михаил Шолохов написал роман 'Тихий Дон' о казачестве.",
            "question": "О чем роман 'Тихий Дон'?"
        },
        {
            "context": "Иван Бунин стал первым русским писателем, получившим Нобелевскую премию.",
            "question": "Кто первым из русских получил Нобелевскую премию?"
        },
        {
            "context": "Андрей Платонов написал повесть 'Котлован' о коллективизации.",
            "question": "О чем повесть 'Котлован'?"
        },
        {
            "context": "Александр Грин создал романтическую повесть 'Алые паруса'.",
            "question": "Кто написал 'Алые паруса'?"
        },
        {
            "context": "Василий Шукшин писал рассказы о простых людях русской деревни.",
            "question": "О ком писал Василий Шукшин?"
        },
        {
            "context": "Венедикт Ерофеев написал поэму в прозе 'Москва - Петушки'.",
            "question": "Кто автор 'Москвы - Петушков'?"
        },
        {
            "context": "Сергей Довлатов описывал жизнь эмигрантов в своих рассказах.",
            "question": "О чем писал Сергей Довлатов?"
        },
        {
            "context": "Виктор Пелевин - современный писатель, автор романа 'Чапаев и Пустота'.",
            "question": "Кто написал 'Чапаева и Пустоту'?"
        },
        {
            "context": "Людмила Улицкая - известная современная писательница, автор романа 'Медея и её дети'.",
            "question": "Кто написал 'Медею и её детей'?"
        },
        {
            "context": "Владимир Набоков эмигрировал из России и писал на русском и английском языках.",
            "question": "На каких языках писал Набоков?"
        },
        {
            "context": "Евгений Замятин написал роман-антиутопию 'Мы' в 1920 году.",
            "question": "Кто написал роман 'Мы'?"
        },
        {
            "context": "Корней Чуковский известен детскими стихами и сказками, такими как 'Мойдодыр'.",
            "question": "Кто написал 'Мойдодыра'?"
        },
        {
            "context": "Самуил Маршак переводил английские детские стихи на русский язык.",
            "question": "Чем занимался Самуил Маршак?"
        },
        {
            "context": "Агния Барто писала стихи для детей, такие как 'Наша Таня громко плачет'.",
            "question": "Для кого писала Агния Барто?"
        },
        {
            "context": "Николай Носов создал серию книг о Незнайке и его друзьях.",
            "question": "Кто создал Незнайку?"
        },
        {
            "context": "Эдуард Успенский придумал Чебурашку и крокодила Гену.",
            "question": "Кто придумал Чебурашку?"
        },
        {
            "context": "Виталий Бианки писал рассказы о природе и животных для детей.",
            "question": "О чем писал Виталий Бианки?"
        },

        # Искусство (30 примеров)
        {
            "context": "Леонардо да Винчи написал картину 'Мона Лиза' в начале XVI века.",
            "question": "Кто написал 'Мону Лизу'?"
        },
        {
            "context": "Микеланджело расписал потолок Сикстинской капеллы в Ватикане.",
            "question": "Кто расписал Сикстинскую капеллу?"
        },
        {
            "context": "Винсент Ван Гог создал картину 'Звездная ночь' в 1889 году.",
            "question": "Кто написал 'Звездную ночь'?"
        },
        {
            "context": "Пабло Пикассо был основоположником кубизма в живописи.",
            "question": "Кто основал кубизм?"
        },
        {
            "context": "Илья Репин написал картину 'Бурлаки на Волге' в 1873 году.",
            "question": "Кто автор 'Бурлаков на Волге'?"
        },
        {
            "context": "Иван Айвазовский специализировался на морских пейзажах.",
            "question": "Чем занимался Айвазовский?"
        },
        {
            "context": "Василий Кандинский был одним из основоположников абстрактного искусства.",
            "question": "Кто основал абстрактное искусство?"
        },
        {
            "context": "Казимир Малевич создал 'Черный квадрат' в 1915 году.",
            "question": "Кто нарисовал 'Черный квадрат'?"
        },
        {
            "context": "Марк Шагал известен своими фантастическими и сказочными картинами.",
            "question": "Чем известен Марк Шагал?"
        },
        {
            "context": "Виктор Васнецов написал картину 'Богатыри' в 1898 году.",
            "question": "Кто написал картину 'Богатыри'?"
        },
        {
            "context": "Михаил Врубель создал картину 'Демон сидящий' в 1890 году.",
            "question": "Кто создал 'Демона сидящего'?"
        },
        {
            "context": "Валентин Серов написал портрет 'Девочка с персиками' в 1887 году.",
            "question": "Кто автор 'Девочки с персиками'?"
        },
        {
            "context": "Исаак Левитан был мастером русского пейзажа.",
            "question": "Кем был Исаак Левитан?"
        },
        {
            "context": "Карл Брюллов создал монументальную картину 'Последний день Помпеи'.",
            "question": "Кто написал 'Последний день Помпеи'?"
        },
        {
            "context": "Александр Иванов работал над картиной 'Явление Христа народу' 20 лет.",
            "question": "Сколько лет создавалась картина 'Явление Христа народу'?"
        },
        {
            "context": "Николай Ге известен религиозными картинами на библейские темы.",
            "question": "Какие темы затрагивал Николай Ге?"
        },
        {
            "context": "Василий Перов написал социальную картину 'Тройка' о детском труде.",
            "question": "О чем картина 'Тройка'?"
        },
        {
            "context": "Архип Куинджи известен картиной 'Лунная ночь на Днепре'.",
            "question": "Какая известная картина Куинджи?"
        },
        {
            "context": "Константин Коровин был одним из основателей русского импрессионизма.",
            "question": "Кто основал русский импрессионизм?"
        },
        {
            "context": "Борис Кустодиев создавал яркие картины русской провинциальной жизни.",
            "question": "Что изображал Борис Кустодиев?"
        },
        {
            "context": "Зинаида Серебрякова известна автопортретом 'За туалетом'.",
            "question": "Какая известная работа Серебряковой?"
        },
        {
            "context": "Николай Рерих создавал мистические картины о древних цивилизациях.",
            "question": "О чем писал Николай Рерих?"
        },
        {
            "context": "Петр Кончаловский был мастером натюрморта и портрета.",
            "question": "В каких жанрах работал Кончаловский?"
        },
        {
            "context": "Игорь Грабарь известен пейзажем 'Февральская лазурь'.",
            "question": "Какая известная картина Грабаря?"
        },
        {
            "context": "Александр Дейнека создавал монументальные картины советской эпохи.",
            "question": "Какие картины создавал Дейнека?"
        },
        {
            "context": "Кузьма Петров-Водкин написал символическую картину 'Купание красного коня'.",
            "question": "Кто автор 'Купания красного коня'?"
        },
        {
            "context": "Филипп Малявин известен яркими картинами русских крестьянок.",
            "question": "Что изображал Филипп Малявин?"
        },
        {
            "context": "Илья Машков был мастером декоративного натюрморта.",
            "question": "В каком жанре работал Илья Машков?"
        },
        {
            "context": "Павел Филонов создавал аналитические картины с множеством деталей.",
            "question": "Какой стиль использовал Павел Филонов?"
        },
        {
            "context": "Роберт Фальк был членом объединения 'Бубновый валет'.",
            "question": "К какому объединению принадлежал Роберт Фальк?"
        },

        # Образование и технологии (30 примеров)
        {
            "context": "React - это JavaScript библиотека для создания пользовательских интерфейсов.",
            "question": "Что такое React?"
        },
        {
            "context": "SQL используется для работы с реляционными базами данных.",
            "question": "Для чего используется SQL?"
        },
        {
            "context": "Git - это система контроля версий, созданная Линусом Торвальдсом.",
            "question": "Кто создал Git?"
        },
        {
            "context": "Docker позволяет упаковывать приложения в контейнеры для портативности.",
            "question": "Для чего используется Docker?"
        },
        {
            "context": "JavaScript был создан Бренданом Эйхом за 10 дней в 1995 году.",
            "question": "Кто создал JavaScript?"
        },
        {
            "context": "HTML расшифровывается как HyperText Markup Language.",
            "question": "Как расшифровывается HTML?"
        },
        {
            "context": "CSS используется для стилизации веб-страниц.",
            "question": "Для чего нужен CSS?"
        },
        {
            "context": "Node.js позволяет выполнять JavaScript код на сервере.",
            "question": "Что делает Node.js?"
        },
        {
            "context": "TypeScript - это надмножество JavaScript с поддержкой типов.",
            "question": "Что такое TypeScript?"
        },
        {
            "context": "MongoDB - это NoSQL база данных, хранящая документы в формате JSON.",
            "question": "Что такое MongoDB?"
        },
        {
            "context": "REST API - архитектурный стиль для создания веб-сервисов.",
            "question": "Что такое REST API?"
        },
        {
            "context": "GraphQL - язык запросов для API, созданный Facebook.",
            "question": "Кто создал GraphQL?"
        },
        {
            "context": "Redux - библиотека для управления состоянием в JavaScript приложениях.",
            "question": "Для чего нужен Redux?"
        },
        {
            "context": "Webpack - это сборщик модулей для JavaScript приложений.",
            "question": "Что делает Webpack?"
        },
        {
            "context": "Vue.js - прогрессивный фреймворк для создания пользовательских интерфейсов.",
            "question": "Что такое Vue.js?"
        },
        {
            "context": "Angular - фреймворк от Google для создания веб-приложений.",
            "question": "Кто создал Angular?"
        },
        {
            "context": "Kubernetes - система для оркестрации контейнеров.",
            "question": "Для чего используется Kubernetes?"
        },
        {
            "context": "Redis - это кэш и хранилище данных в памяти.",
            "question": "Что такое Redis?"
        },
        {
            "context": "Nginx - веб-сервер и обратный прокси-сервер.",
            "question": "Что такое Nginx?"
        },
        {
            "context": "PostgreSQL - мощная реляционная база данных с открытым исходным кодом.",
            "question": "Что такое PostgreSQL?"
        },
        {
            "context": "Linux - семейство операционных систем с открытым исходным кодом.",
            "question": "Что такое Linux?"
        },
        {
            "context": "VS Code - популярный редактор кода от Microsoft.",
            "question": "Кто создал VS Code?"
        },
        {
            "context": "GitHub - платформа для хостинга Git репозиториев.",
            "question": "Что такое GitHub?"
        },
        {
            "context": "JWT расшифровывается как JSON Web Token и используется для аутентификации.",
            "question": "Для чего используется JWT?"
        },
        {
            "context": "OAuth - протокол авторизации для предоставления доступа к ресурсам.",
            "question": "Что такое OAuth?"
        },
        {
            "context": "TensorFlow - библиотека машинного обучения от Google.",
            "question": "Кто создал TensorFlow?"
        },
        {
            "context": "NumPy - библиотека Python для работы с многомерными массивами.",
            "question": "Для чего нужен NumPy?"
        },
        {
            "context": "Pandas - библиотека Python для анализа данных.",
            "question": "Для чего используется Pandas?"
        },
        {
            "context": "Jupyter Notebook - интерактивная среда для работы с кодом и данными.",
            "question": "Что такое Jupyter Notebook?"
        },
        {
            "context": "Flask - легковесный веб-фреймворк для Python.",
            "question": "Что такое Flask?"
        },
    ]

    # Сохрани в JSON
    with open('training_data.json', 'w', encoding='utf-8') as f:
        json.dump(training_examples, f, ensure_ascii=False, indent=2)

    print(f"✅ Создано {len(training_examples)} примеров")
    return len(training_examples)


def prepare_dataset_for_t5():
    """Подготовка датасета в формат T5"""

    # Загрузи данные
    with open('training_data.json', 'r', encoding='utf-8') as f:
        data = json.load(f)

    # Преобразуй в формат T5
    processed_data = []
    for item in data:
        input_text = f"generate question: {item['context']}"
        target_text = item['question']

        processed_data.append({
            'input_text': input_text,
            'target_text': target_text
        })

    # Создай Dataset
    df = pd.DataFrame(processed_data)
    dataset = Dataset.from_pandas(df)

    # Разделение на train/validation (80/20)
    dataset = dataset.train_test_split(test_size=0.2, seed=42)

    return dataset


if __name__ == "__main__":
    total = create_training_data()
    dataset = prepare_dataset_for_t5()
    print(f"Train size: {len(dataset['train'])}")
    print(f"Validation size: {len(dataset['test'])}")
    print(f"Пример данных:")
    print(dataset['train'][0])
